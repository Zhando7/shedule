"use strict";function addRowToTable(e){var t=document.getElementById("tableYear"),n=t.length,a=t.insertRow(n),r=a.insertCell(0),o=a.insertCell(1),s=a.insertCell(2);a.setAttribute("id","tr__".concat(e._id)),r.innerHTML="".concat(e._id),o.innerHTML="".concat(e.year),s.innerHTML=setOperation(e)}function setOperation(e){var t=e._id,n=e.year;return"<a onclick=\"editSelectYear('".concat(t,"', '").concat(n,'\')" class="waves-effect waves-light btn"><i class="editLink small material-icons">edit</i></a>')+"<a onclick=\"delSelectYear('".concat(t,'\')" class="removeLink waves-effect waves-light btn"><i class="small material-icons">delete</i></a>')}function editSelectYear(e,t){document.forms.createForm.setAttribute("method","PUT"),document.forms.createForm.setAttribute("id",e),document.forms.createForm.elements[0].value=t}function delSelectYear(t){var e="/admin/year/".concat(t),n=new XMLHttpRequest;n.open("DELETE",e,!0),n.setRequestHeader("Content-Type","application/json"),n.addEventListener("load",function(){var e=JSON.parse(n.response);4==n.readyState&&"200"==n.status?document.getElementById("tr__".concat(t)).remove():console.log(e.msg)}),n.send(null)}console.log("Hello, admin"),document.getElementById("submit").addEventListener("click",function(e){e.preventDefault();var t,n=document.forms.createForm,a=n.getAttribute("method"),r=n.elements.year.value,o=new XMLHttpRequest;switch(a){case"POST":t=JSON.stringify({year:r});break;case"PUT":var s=n.getAttribute("id");t=JSON.stringify({id:s,year:r});break;default:return null}o.open(a,"/admin/year",!0),o.setRequestHeader("Content-Type","application/json"),o.addEventListener("load",function(){var e=JSON.parse(o.response);4==o.readyState&&"200"==o.status?(console.log(e),addRowToTable(e.docs)):console.log(e.msg)}),o.send(t)});