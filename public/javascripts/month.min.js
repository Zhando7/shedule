"use strict";function checkValue(e){return 1<=e&&e<=12||(M.toast({html:'Неправильное значение поля: "Выберите месяц"'}),!1)}function addRowToTable(e,t){if(void 0!==e){var n=document.getElementById(t),o=n.insertRow(n.length),a=o.insertCell(0),s=o.insertCell(1),l=o.insertCell(2);o.setAttribute("id","tr__".concat(e._id)),a.setAttribute("class","hide-on-small-only"),s.setAttribute("onclick",'getDatesOfMonth("'.concat(e._id,'", "').concat(e.month.title,'")')),a.innerHTML="".concat(e._id),s.innerHTML="".concat(e.month.title),l.innerHTML="<a onclick=\"delSelectMonth('".concat(e._id,'\')" class="waves-effect waves-light btn"><i class="small material-icons">delete</i></a>')}}function delSelectMonth(t){if(!t)return null;var e="/admin/month/".concat(t),n=new XMLHttpRequest;n.open("DELETE",e,!0),n.setRequestHeader("Content-Type","application/json"),n.addEventListener("load",function(){var e=JSON.parse(n.response);4==n.readyState&&200==n.status?(document.getElementById("tr__".concat(t)).remove(),document.getElementsByClassName("dates")[0].style.display="none"):console.log(e.msg)}),n.send(null)}function getDatesOfMonth(e,t){if(void 0===e)return null;var n="/admin/dates/".concat(e),o=new XMLHttpRequest;o.open("GET",n,!0),o.setRequestHeader("Content-Type","application/json"),o.addEventListener("load",function(){var e=JSON.parse(o.response);4==o.readyState&&200==o.status?(document.getElementsByClassName("dates")[0].style.display="block",document.getElementById("nameMonth").innerHTML=t+" месяц",document.getElementById("tableDates").innerHTML=e.docs):console.log(e.msg)}),o.send(null)}console.log("Hello, admin"),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".sidenav");M.Sidenav.init(e)}),document.getElementById("submitCreateMonth").addEventListener("click",function(e){e.preventDefault();var t=document.querySelector("select"),n=document.getElementById("tableMonth").getAttribute("value"),o={number:t.selectedIndex,title:t.options[t.selectedIndex].label};if(checkValue(o.number)){var a=JSON.stringify({id_year:n,month:o}),s=new XMLHttpRequest;s.open("POST","/admin/month",!0),s.setRequestHeader("Content-Type","application/json"),s.addEventListener("load",function(){var e=JSON.parse(s.response);4==s.readyState&&200==s.status?(t.selectedIndex=0,addRowToTable(e.docs,"tableMonth")):console.log(e.msg)}),s.send(a)}});