"use strict";function checkValue(e){return 1<=e&&e<=12||(M.toast({html:'Неправильное значение поля: "Выберите месяц"'}),!1)}function addRowToTable(e){var t=document.getElementById(e),n=t.insertRow(t.length),o=n.insertCell(0),s=n.insertCell(1),a=n.insertCell(2);n.setAttribute("id","tr__".concat(this._id)),o.setAttribute("class","hide-on-small-only"),s.setAttribute("onclick",'getDatesOfMonth("'.concat(this._id,'", "').concat(this.month.title,'")')),o.innerHTML="".concat(this._id),s.innerHTML="".concat(this.month.title),a.innerHTML="<a onclick=\"delSelectMonth('".concat(this._id,'\')" class="waves-effect waves-light btn"><i class="small material-icons">delete</i></a>')}function delSelectMonth(t){if(!t)return null;var e="/admin/month/".concat(t),n=new XMLHttpRequest;n.open("DELETE",e,!0),n.setRequestHeader("Content-Type","application/json"),n.addEventListener("load",function(){var e=JSON.parse(n.response);4==n.readyState&&200==n.status?(document.getElementById("tr__".concat(t)).remove(),document.getElementsByClassName("dates")[0].style.display="none"):console.log(e.msg)}),n.send(null)}function getDatesOfMonth(e,t){if(!e)return null;var n="/admin/dates/".concat(e),o=new XMLHttpRequest;o.open("GET",n,!0),o.setRequestHeader("Content-Type","application/json"),o.addEventListener("load",function(){var e=JSON.parse(o.response);4==o.readyState&&200==o.status?(document.getElementsByClassName("dates")[0].style.display="block",document.getElementById("nameMonth").innerHTML=t+" месяц",document.getElementById("tableDates").innerHTML=e.docs):console.log(e.msg)}),o.send(null)}console.log("Hello, admin"),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".sidenav");M.Sidenav.init(e)}),document.getElementById("submitCreateMonth").addEventListener("click",function(e){e.preventDefault();var t=document.querySelector("select"),n=document.getElementById("tableMonth").getAttribute("value"),o={number:t.selectedIndex,title:t.options[t.selectedIndex].label};if(checkValue(o.number)){var s=JSON.stringify({id_year:n,month:o}),a=new XMLHttpRequest;a.open("POST","/admin/month",!0),a.setRequestHeader("Content-Type","application/json"),a.addEventListener("load",function(){var e=JSON.parse(a.response);4==a.readyState&&200==a.status?(t.selectedIndex=0,addRowToTable.call(e.docs,"tableMonth")):console.log(e.msg)}),a.send(s)}});